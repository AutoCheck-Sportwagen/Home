<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AutoCheck Sportwagen</title>
  <style>
    :root {
      --bg: #f8fafc;
      --text: #1e293b;
      --nav: #e0e7ef;
      --accent: #2563eb;
      --accent-hover: #1d4ed8;
      --shadow: 0 2px 16px 0 rgba(30,41,59,0.07);
    }
    body.dark {
      --bg: #0f172a;
      --text: #e5e7eb;
      --nav: #1e293b;
      --accent: #60a5fa;
      --accent-hover: #3b82f6;
      --shadow: 0 2px 16px 0 rgba(2,6,23,0.18);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Arial, Helvetica, sans-serif;
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
    }
    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      scroll-behavior: smooth;
    }
    nav {
      background: var(--nav);
      box-shadow: var(--shadow);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 10;
      border-bottom: 1px solid #cbd5e1;
    }
    .title {
      font-weight: 700;
      font-size: 1.3rem;
      letter-spacing: 1px;
    }
        .logo-img {
            height: 100px;
            width: 200px;
            object-fit: contain;
            background: #e0e7ef;
            border-radius: 8px;
            display: block;
          }
          .logo-img img{ 
            height: 100%;
            width: 100%;

          }
          .logo-link {
            display: inline-block;
          }
    .nav-items {
      list-style: none;
      display: flex;
      gap: 2rem;
    }
    .nav-items a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      padding: 0.3rem 0.7rem;
      border-radius: 5px;
      transition: background 0.18s, color 0.18s;
      position: relative;
    }
    .nav-items a:focus, .nav-items a:hover {
      background: var(--accent);
      color: #fff;
      outline: none;
    }
    nav button {
      background: var(--accent);
      color: white;
      border: none;
      padding: 0.5rem 1.1rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      box-shadow: 0 1px 4px 0 rgba(37,99,235,0.08);
      transition: background 0.18s;
    }
    nav button:hover {
      background: var(--accent-hover);
    }
    .sidebar {
      position: fixed;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
      z-index: 100;
    }
    .menu-icon.hide {
      display: none;
    }
    .icon {
      width: 48px;
      height: 48px;
      background: var(--accent);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 0 10px 10px 0;
      font-size: 1.5rem;
      box-shadow: 0 2px 8px 0 rgba(37,99,235,0.08);
      transition: background 0.18s, box-shadow 0.18s;
    }
    .icon:hover {
      background: var(--accent-hover);
      box-shadow: 0 4px 16px 0 rgba(37,99,235,0.13);
    }
    .side-panel {
      position: fixed;
      left: -270px;
      width: 270px;
      background: var(--nav);
      box-shadow: var(--shadow);
      padding: 1.5rem 1rem 1rem 1.5rem;
      transition: left 0.28s cubic-bezier(.4,1.4,.6,1);
      z-index: 99;
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
      /* top and height set dynamically by JS */
    }
    .side-panel.open {
      left: 0;
    }
    .side-panel input {
      width: 100%;
      padding: 0.6rem;
      border-radius: 5px;
      border: 1px solid #cbd5e1;
      font-size: 1rem;
      margin-bottom: 0.7rem;
      background: #fff;
      color: #1e293b;
      outline: none;
      transition: border 0.18s;
    }
    .side-panel input:focus {
      border: 1.5px solid var(--accent);
    }
    .side-panel ul {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }
    .side-panel li {
      cursor: pointer;
      padding: 0.5rem 0.7rem;
      border-radius: 4px;
      font-size: 1.05rem;
      transition: background 0.16s, color 0.16s;
    }
    .side-panel li:hover {
      background: var(--accent);
      color: white;
    }
    main {
      flex: 1;
      padding: 2.5rem 1.5rem 2rem 1.5rem;
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
      transition: background 0.2s, color 0.2s;
    }
    .page {
      display: none;
      animation: fade 0.35s cubic-bezier(.4,1.4,.6,1);
    }
    .page.active {
      display: block;
    }
    @keyframes fade {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
            /* Toggle Switch Styles */
        .toggle-switch {
          position: relative;
          display: inline-block;
          width: 48px;
          height: 28px;
          vertical-align: middle;
        }
        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 34px;
        }
        .slider:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
          box-shadow: 0 1px 4px rgba(0,0,0,0.12);
        }
        .toggle-switch input:checked + .slider {
          background-color: #2563eb;
        }
        .toggle-switch input:checked + .slider:before {
          transform: translateX(20px);
        }
    footer {
      background: var(--nav);
      text-align: center;
      padding: 1.2rem 0 1rem 0;
      font-size: 1rem;
      color: #64748b;
      border-top: 1px solid #cbd5e1;
      box-shadow: var(--shadow);
    }
    @media (max-width: 700px) {
      nav { flex-direction: column; gap: 0.7rem; padding: 1rem 0.7rem; }
      .nav-items { gap: 1rem; }
      main { padding: 1.2rem 0.5rem; }
      .side-panel { width: 90vw; left: -90vw; }
      .side-panel.open { left: 48px; }
    }
  </style>
</head>
<body>
  <nav>
    <div class="title" style="display: flex; align-items: center; gap: 0.7rem;">
        <a href="https://autocheck-sportwagen.github.io/Home/" class="logo-link">
          <img src="logo.png" alt="Logo" class="logo-img" />
        </a>
    </div>
    <ul class="nav-items">
      <li><a href="#" onclick="showPage('home')">Home</a></li>
      <li><a href="#" onclick="showPage('about')">Über uns</a></li>
      <li><a href="#" onclick="showPage('services')">Services</a></li>
      <li><a href="#" onclick="showPage('contact')">Kontakt</a></li>
    </ul>
    <!-- Dark mode button removed from navbar -->
  </nav>
    <div class="sidebar" id="sidebar">
      <div class="icon menu-icon" id="menuIcon" tabindex="0" aria-label="Menü öffnen" onmouseenter="openSidePanel()" onfocus="openSidePanel()" onclick="openSidePanel()">☰</div>
    </div>
  <div class="side-panel" id="sidePanel" onmouseleave="closeSidePanel()">
    <input type="text" placeholder="Suchen..." aria-label="Seitensuche" />
    <ul>
      <li onclick="showPage('contact')">Kontakt</li>
      <li onclick="showPage('news')">News</li>
      <li onclick="showPage('vergleichen')">Vergleichen</li>
      <li onclick="showPage('profile')">Profil</li>
      <li onclick="showPage('settings')">Einstellungen</li>
    </ul>
  </div>
  <main>
    <section id="home" class="page active">
      <h1>Willkommen bei AutoCheck Sportwagen</h1>
      <p>Erleben Sie die Zukunft der Sportwagen-Inspektion. Unsere Plattform bietet Ihnen einen schnellen, transparenten und zuverlässigen Check für Ihr Fahrzeug.</p>
    </section>
    <section id="about" class="page">
      <h1>Über uns</h1>
      <p>Wir sind ein Team aus Auto-Enthusiasten und Technikexperten, die sich auf die digitale Überprüfung von Sportwagen spezialisiert haben. Qualität, Vertrauen und Innovation stehen bei uns an erster Stelle.</p>
    </section>
    <section id="services" class="page">
      <h1>Unsere Services</h1>
      <ul>
        <li>Digitale Fahrzeugprüfung</li>
        <li>Experten-Gutachten</li>
        <li>Wertanalyse</li>
        <li>Beratung beim Autokauf</li>
      </ul>
    </section>
    <section id="contact" class="page">
      <h1>Kontakt</h1>
      <p>Sie haben Fragen? Kontaktieren Sie uns gerne per E-Mail: <a href="mailto:info@autocheck.de">info@autocheck.de</a></p>
    </section>
    <section id="news" class="page">
      <h1>News</h1>
      <p>Bleiben Sie auf dem Laufenden mit den neuesten Nachrichten rund um Sportwagen und Fahrzeugchecks.</p>
    </section>
     <section id="vergleichen" class="page">
      <h1>Vergleichen</h1>
      <p>Vergleichen Sie schnell Autos im Überblick!</p>
      <div style="margin-top:2rem;">
        <label for="car1">Auto 1:</label>
        <select id="car1" style="margin-right:1rem;"></select>
        <label for="car2">Auto 2:</label>
        <select id="car2"></select>
        <button onclick="loadComparison()" style="margin-left:1rem;">Vergleichen</button>
      </div>
      <div id="comparisonTableContainer" style="margin-top:2rem;"></div>
      <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
      <script>
        // Supabase setup
        const SUPABASE_URL = 'https://vffhisqjkadjtquaendq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZmZmhpc3Fqa2FkanRxdWFlbmRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5MDc4NDYsImV4cCI6MjA4NjQ4Mzg0Nn0.9VkUrlRIV32gjwVBCXFMV_2a16CXzA_ucvg8pZACtIg';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        // Populate dropdowns on load
        document.addEventListener('DOMContentLoaded', async function() {
          const { data: cars, error } = await supabase
            .from('cars')
            .select('id,Name,Marke')
            .order('Marke', { ascending: true });
          if (error) {
            document.getElementById('comparisonTableContainer').innerHTML = '<p style="color:red">Fehler beim Laden der Autos: ' + error.message + '</p>';
            return;
          }
          const car1Select = document.getElementById('car1');
          const car2Select = document.getElementById('car2');
          car1Select.innerHTML = '<option value="">Bitte wählen...</option>';
          car2Select.innerHTML = '<option value="">Bitte wählen...</option>';
          for (const car of cars) {
            const label = `${car.Marke} – ${car.Name}`;
            const opt1 = document.createElement('option');
            opt1.value = car.id;
            opt1.textContent = label;
            car1Select.appendChild(opt1);
            const opt2 = document.createElement('option');
            opt2.value = car.id;
            opt2.textContent = label;
            car2Select.appendChild(opt2);
          }
        });

        async function loadComparison() {
          const car1Id = document.getElementById('car1').value;
          const car2Id = document.getElementById('car2').value;
          if (!car1Id || !car2Id) {
            alert('Bitte wählen Sie beide Autos aus.');
            return;
          }
          if (car1Id === car2Id) {
            alert('Bitte wählen Sie zwei verschiedene Autos aus.');
            return;
          }
          // Fetch both cars from Supabase
          const { data: cars, error } = await supabase
            .from('cars')
            .select('Name,Marke,Modell,Antriebsart,Farbe,Karosserieform,Baujahr,Leistung,Preis,foto1')
            .in('id', [car1Id, car2Id]);
          if (error) {
            document.getElementById('comparisonTableContainer').innerHTML = '<p style="color:red">Fehler beim Laden: ' + error.message + '</p>';
            return;
          }
          if (!cars || cars.length < 2) {
            document.getElementById('comparisonTableContainer').innerHTML = '<p style="color:red">Nicht beide Autos gefunden.</p>';
            return;
          }
          // Sort cars so car1 is always left, car2 right
          const carMap = {};
          for (const c of cars) carMap[c.Name + c.Marke] = c;
          const carA = cars.find(c => c.id === car1Id) || cars[0];
          const carB = cars.find(c => c.id === car2Id) || cars[1];
          // Build table
          const rows = [
            { label: 'Name', key: 'Name' },
            { label: 'Marke', key: 'Marke' },
            { label: 'Modell', key: 'Modell' },
            { label: 'Antriebsart', key: 'Antriebsart' },
            { label: 'Farbe(n)', key: 'Farbe' },
            { label: 'Karosserieform', key: 'Karosserieform' },
            { label: 'Baujahr', key: 'Baujahr' },
            { label: 'Leistung', key: 'Leistung' },
            { label: 'Preis', key: 'Preis' },
            { label: 'Foto', key: 'foto1' }
          ];
          let html = '<table style="width:100%;border-collapse:collapse;box-shadow:0 2px 8px #cbd5e1;">';
          html += '<thead><tr><th style="border-bottom:2px solid #2563eb;padding:8px;text-align:left;">Eigenschaft</th><th style="border-bottom:2px solid #2563eb;padding:8px;">Auto 1</th><th style="border-bottom:2px solid #2563eb;padding:8px;">Auto 2</th></tr></thead>';
          html += '<tbody>';
          for (const row of rows) {
            html += '<tr>';
            html += '<td style="padding:8px;font-weight:500;background:#f8fafc;">' + row.label + '</td>';
            if (row.key === 'foto1') {
              html += '<td style="padding:8px;text-align:center;">' + (carA[row.key] ? '<img src="' + carA[row.key] + '" alt="Foto Auto 1" style="max-width:120px;max-height:80px;border-radius:6px;">' : '-') + '</td>';
              html += '<td style="padding:8px;text-align:center;">' + (carB[row.key] ? '<img src="' + carB[row.key] + '" alt="Foto Auto 2" style="max-width:120px;max-height:80px;border-radius:6px;">' : '-') + '</td>';
            } else {
              html += '<td style="padding:8px;">' + (carA[row.key] ?? '-') + '</td>';
              html += '<td style="padding:8px;">' + (carB[row.key] ?? '-') + '</td>';
            }
            html += '</tr>';
          }
          html += '</tbody></table>';
          document.getElementById('comparisonTableContainer').innerHTML = html;
        }
      </script>
    </section>
    <section id="profile" class="page">
      <h1>Profil</h1>
      <p>Hier können Sie Ihre persönlichen Daten und Einstellungen verwalten.</p>
    </section>
    <section id="settings" class="page">
      <h1>Einstellungen</h1>
      <p>Passen Sie die Plattform nach Ihren Wünschen an.</p>
      <div style="margin-top:2rem;">
        <label class="toggle-switch">
          <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
          <span class="slider"></span>
        </label>
        <span style="margin-left:1rem;vertical-align:middle;">Dark Mode</span>
      </div>

    </section>
  </main>
  <footer>
    © 2026 – AutoCheck Sportwagen
  </footer>
  <script>
        // Dynamically set side panel position under navbar
        function setSidePanelPosition() {
          var navbar = document.querySelector('nav');
          var panel = document.getElementById('sidePanel');
          if (navbar && panel) {
            var navRect = navbar.getBoundingClientRect();
            var top = navRect.bottom + window.scrollY;
            panel.style.top = top + 'px';
            panel.style.height = 'calc(100vh - ' + top + 'px)';
          }
        }
        window.addEventListener('resize', setSidePanelPosition);
        window.addEventListener('DOMContentLoaded', setSidePanelPosition);
        // Also update when opening the panel
        function openSidePanel() {
          setSidePanelPosition();
          document.getElementById('sidePanel').classList.add('open');
          document.getElementById('menuIcon').classList.add('hide');
        }
    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      // Save preference
      if(document.body.classList.contains('dark')) {
        localStorage.setItem('darkMode', 'on');
      } else {
        localStorage.setItem('darkMode', 'off');
      }
    }
    // On load, set toggle state and dark mode
    document.addEventListener('DOMContentLoaded', function() {
      const darkPref = localStorage.getItem('darkMode');
      if(darkPref === 'on') {
        document.body.classList.add('dark');
        var toggle = document.getElementById('darkModeToggle');
        if(toggle) toggle.checked = true;
      }
    });
      function openSidePanel() {
        document.getElementById('sidePanel').classList.add('open');
        document.getElementById('menuIcon').classList.add('hide');
      }
      function closeSidePanel() {
        document.getElementById('sidePanel').classList.remove('open');
        document.getElementById('menuIcon').classList.remove('hide');
      }
    function showPage(id) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      var el = document.getElementById(id);
      if (el) el.classList.add('active');
    }
    // Optional: Close side panel on click outside
    document.addEventListener('click', function(e) {
      var panel = document.getElementById('sidePanel');
      if (panel.classList.contains('open') && !panel.contains(e.target) && !e.target.classList.contains('icon')) {
        closeSidePanel();
      }
    });
      // Keyboard accessibility for menu icon only
      document.getElementById('menuIcon').addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          openSidePanel();
        }
      });
  </script>
</body>
</html>

